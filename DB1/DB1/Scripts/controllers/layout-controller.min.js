var myApp=angular.module("myApp",["ui.bootstrap"]);myApp.controller("_LayoutController",["$scope","$http","$templateCache",function(n,t){n.company="DB1 Global Software";n.model_user=null;n.users=null;n.repository=null;n.view=function(i){$(".loading").show();t({method:"GET",url:"https://api.github.com/users/"+i,headers:{"Content-Type":"application/json"}}).then(function(t){n.model_user=t.data;n.get_repository(n.model_user.login);$("#modal-user").modal("show")},function(){n.model_user=null;$(".loading").hide()})};n.get_repository=function(i){$(".loading").show();t({method:"GET",url:"https://api.github.com/users/"+i+"/repos",headers:{"Content-Type":"application/json"}}).then(function(t){n.repository=t.data;$(".loading").hide()},function(){n.repository=null;$(".loading").hide()})};n.get_users=function(){$(".loading").show();t({method:"GET",url:"https://api.github.com/users",headers:{"Content-Type":"application/json"}}).then(function(t){n.users=t.data;$(".loading").hide()},function(){n.users=null;$(".loading").hide()})};n.technologies=null;n.vacancies=null;n.candidates=null;n.model_candidate=null;n.delete=function(n){swal({title:"Tem certeza?",text:"Você não poderá reverter isso!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim"}).then(function(){$(".loading").show();t({method:"POST",url:"/Home/Delete",data:{id:n},headers:{"Content-Type":"application/json"}}).then(function(n){swal("Informação",n.data.message,"success");window.location.reload()},function(){swal("Oops...","Houve um problema na operação!","error");$(".loading").hide()})})};n.edit=function(t){n.model_candidate=t};n.savechanges=function(){if(n.model_candidate.vacancy==null){swal("Oops...","Selecione a vaga que o candidato deseja preencher!","error");return}var i=[];if($('input[name="technologies"]:checked').each(function(){i.push({id:parseInt($(this).attr("data-id")),name:$(this).attr("data-name")})}),i.length==0){swal("Oops...","Selecione as tecnologias que o candidato atua!","error");return}n.model_candidate.technologies=i;$(".loading").show();t({method:"POST",url:"/Home/SaveChanges",data:{candidate:n.model_candidate},headers:{"Content-Type":"application/json"}}).then(function(n){n.data.success?window.location.reload():swal("Oops...","Houve um problema na operação!","error")},function(){swal("Oops...","Houve um problema na operação!","error");$(".loading").hide()})}}]);